---
title: Http 权威指南 第十三章 摘要认证 笔记
date: 2020-06-11 15:51:02
tags:
---
***关键词*** : 摘要函数   MD5   随机数令牌

***摘要函数*** : 摘要是对信息主体的浓缩; 摘要是一种单向函数，用户将无限的输入值转换为有限的浓缩输出值
- 摘要认证首部:
WWW-Authenticate: Digest
  realm="安全域"
  qop="算法列表"
  nonce="服务器随机串令牌66c5e..."
Authorization: Digest
  username="用户名"
  realm="安全域"
  qop="选择的算法"
  uri=""
  nonce="服务器随机串令牌66c5e..."
  cnonce="客户端随机令牌7fg62..."
  response="e483c9..."
Authentication-Info: nextnonce="下个随机数串"
![](/images/摘要认证首部.jpeg)


***MD5 消息摘要算法*** : 一种被广泛使用的密码散列函数，可以产生出一个128位（16字节）的散列值（hash value），显示为32个十六进制的字符，每个字符四位

##### MD5算法无法防止碰撞攻击，因此不适用于安全性认证，如SSL公开密钥认证或是数字签名等用途
***SHA*** : Secure Hash Algorithm 安全散列算法
目前广泛使用的是 SHA-2 系列算法，2015 年发布 SHA-3

#### 用随机数防止重放攻击

##### 摘要认证握手机制
![](/images/摘要认证握手机制.jpeg)

#### 预授权
1. 预先生成下一个随机数
  Authentication-Info: nextnonce="下个随机数串"
2. 受限的随机数重用机制
  服务器允许随机数重用多少次或多少秒
3. 同步生成随机数
  客户端和服务器端根据相同的秘钥(种子)生成相同的随机数序列，(大概就是首部中不包含随机数了，随机数由客户端、服务器端自己生成)

##### 词典攻击
对某个事务进行窃听，并对 随机数/响应 对 使用标准的密码猜测程序
使用预先制作好的清单

***真正安全的事务只有通过 SSL 才能实现***